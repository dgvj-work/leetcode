select seat_id, free, diff from (
select seat_id, free, row_number() over(order by seat_id) - row_number() over(partition by free order by seat_id) as diff
from cinema) a 

